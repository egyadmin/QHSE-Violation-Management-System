# QHSE Violation Management System - Flutter App
## Ù†Ø¸Ø§Ù… Ø¥Ø¯Ø§Ø±Ø© Ù…Ø®Ø§Ù„ÙØ§Øª QHSE

![Flutter](https://img.shields.io/badge/Flutter-3.0+-blue.svg)
![Dart](https://img.shields.io/badge/Dart-3.0+-blue.svg)
![License](https://img.shields.io/badge/License-Proprietary-red.svg)

Ø´Ø§Ù…Ù„ Ù„Ø¥Ø¯Ø§Ø±Ø© Ù…Ø®Ø§Ù„ÙØ§Øª Ø§Ù„Ø¬ÙˆØ¯Ø© ÙˆØ§Ù„ØµØ­Ø© ÙˆØ§Ù„Ø³Ù„Ø§Ù…Ø© ÙˆØ§Ù„Ø¨ÙŠØ¦Ø© (QHSE) Ù…Ø¨Ù†ÙŠ Ø¨ØªÙ‚Ù†ÙŠØ© Flutter.

---

## âœ¨ Features (Ø§Ù„Ù…Ù…ÙŠØ²Ø§Øª)

### Core Features
- âœ… **13 Ø¯ÙˆØ± ÙˆØ¸ÙŠÙÙŠ Ù…Ø®ØªÙ„Ù**: Admin, CEO, Officers, Managers, Project Manager
- âœ… **171 Ù†ÙˆØ¹ Ù…Ø®Ø§Ù„ÙØ©** Ù…ÙˆØ²Ø¹Ø© Ø¹Ù„Ù‰ 4 ØªØµÙ†ÙŠÙØ§Øª Ø±Ø¦ÙŠØ³ÙŠØ©
- âœ… **4 ØªØµÙ†ÙŠÙØ§Øª QHSE**: Ø§Ù„Ø³Ù„Ø§Ù…Ø© (Safety), Ø§Ù„ØµØ­Ø© (Health), Ø§Ù„Ø¬ÙˆØ¯Ø© (Quality), Ø§Ù„Ø¨ÙŠØ¦Ø© (Environment)
- âœ… **Ù†Ø¸Ø§Ù… Workflow Ù…ØªÙ‚Ø¯Ù…** Ù„ÙƒÙ„ ØªØµÙ†ÙŠÙQHSE
- âœ… **Ø¯Ø¹Ù… ÙƒØ§Ù…Ù„ Ù„Ù„ØºØ© Ø§Ù„Ø¹Ø±Ø¨ÙŠØ© ÙˆØ§Ù„Ø¥Ù†Ø¬Ù„ÙŠØ²ÙŠØ©** Ù…Ø¹ RTL support
- âœ… **Material Design 3** Ù…Ø¹ Ø£Ù„ÙˆØ§Ù† SAJCO Ø§Ù„Ù…Ù…ÙŠØ²Ø©
- âœ… **ØªÙƒØ§Ù…Ù„ ÙƒØ§Ù…Ù„ Ù…Ø¹ API Backend**

### Currently Implemented (ØªÙ… ØªÙ†ÙÙŠØ°Ù‡)
- âœ… Ù†Ø¸Ø§Ù… Ø§Ù„Ù…ØµØ§Ø¯Ù‚Ø© (Login/Logout)
- âœ… Ù„ÙˆØ­Ø© Ø§Ù„ØªØ­ÙƒÙ… Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©
- âœ… Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª Ø³Ø±ÙŠØ¹Ø©
- âœ… Ø¨Ø·Ø§Ù‚Ø§Øª ØªØµÙ†ÙŠÙØ§Øª QHSE
- âœ… Ø§Ù„ØªØ¨Ø¯ÙŠÙ„ Ø¨ÙŠÙ† Ø§Ù„Ø¹Ø±Ø¨ÙŠØ© ÙˆØ§Ù„Ø¥Ù†Ø¬Ù„ÙŠØ²ÙŠØ©

### Coming Soon (Ù‚Ø±ÙŠØ¨Ø§Ù‹)
- ğŸ”œ Ø´Ø§Ø´Ø© Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ù…Ø®Ø§Ù„ÙØ§Øª
- ğŸ”œ Ø´Ø§Ø´Ø© Ø¥Ø¶Ø§ÙØ© Ù…Ø®Ø§Ù„ÙØ© Ø¬Ø¯ÙŠØ¯Ø© (8 Ø®Ø·ÙˆØ§Øª)
- ğŸ”œ Ø´Ø§Ø´Ø© ØªÙØ§ØµÙŠÙ„ Ø§Ù„Ù…Ø®Ø§Ù„ÙØ©
- ğŸ”œ Ù†Ø¸Ø§Ù… Ø§Ù„Ù…ÙˆØ§ÙÙ‚Ø©/Ø§Ù„Ø±ÙØ¶
- ğŸ”œ Ø§Ù„Ø±Ø³ÙˆÙ… Ø§Ù„Ø¨ÙŠØ§Ù†ÙŠØ© ÙˆØ§Ù„ØªÙ‚Ø§Ø±ÙŠØ±
- ğŸ”œ Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…ÙŠÙ†

---

## ğŸ—ï¸ Project Structure

```
qhse_app/
â”œâ”€â”€ lib/
â”‚   â”œâ”€â”€ main.dart                    # Ù†Ù‚Ø·Ø© Ø§Ù„Ø¨Ø¯Ø§ÙŠØ©
â”‚   â”œâ”€â”€ app.dart                     # ØªÙ‡ÙŠØ¦Ø© Ø§Ù„ØªØ·Ø¨ÙŠÙ‚
â”‚   â”‚
â”‚   â”œâ”€â”€ core/                        # Ø§Ù„Ø·Ø¨Ù‚Ø© Ø§Ù„Ø£Ø³Ø§Ø³ÙŠØ©
â”‚   â”‚   â”œâ”€â”€ theme/                   # Ù†Ø¸Ø§Ù… Ø§Ù„ØªØµÙ…ÙŠÙ…
â”‚   â”‚   â”‚   â”œâ”€â”€ app_colors.dart      # Ø£Ù„ÙˆØ§Ù† Ø§Ù„ØªØ·Ø¨ÙŠÙ‚
â”‚   â”‚   â”‚   â”œâ”€â”€ app_gradients.dart   # Ø§Ù„ØªØ¯Ø±Ø¬Ø§Øª Ø§Ù„Ù„ÙˆÙ†ÙŠØ©
â”‚   â”‚   â”‚   â””â”€â”€ app_theme.dart       # Theme configuration
â”‚   â”‚   â”œâ”€â”€ constants/               # Ø§Ù„Ø«ÙˆØ§Ø¨Øª
â”‚   â”‚   â”‚   â”œâ”€â”€ app_constants.dart   # Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø¹Ø§Ù…Ø©
â”‚   â”‚   â”‚   â””â”€â”€ app_icons.dart       # Ø§Ù„Ø£ÙŠÙ‚ÙˆÙ†Ø§Øª
â”‚   â”‚   â”œâ”€â”€ l10n/                    # Ø§Ù„ØªØ±Ø¬Ù…Ø§Øª
â”‚   â”‚   â”œâ”€â”€ routes/                  # Ø§Ù„ØªÙˆØ¬ÙŠÙ‡
â”‚   â”‚   â””â”€â”€ utils/                   # Ø£Ø¯ÙˆØ§Øª Ù…Ø³Ø§Ø¹Ø¯Ø©
â”‚   â”‚
â”‚   â”œâ”€â”€ data/                        # Ø·Ø¨Ù‚Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª
â”‚   â”‚   â”œâ”€â”€ models/                  # Ø§Ù„Ù†Ù…Ø§Ø°Ø¬
â”‚   â”‚   â”‚   â”œâ”€â”€ user_model.dart
â”‚   â”‚   â”‚   â”œâ”€â”€ qhse_violation_model.dart
â”‚   â”‚   â”‚   â”œâ”€â”€ violation_domain_model.dart
â”‚   â”‚   â”‚   â”œâ”€â”€ violation_type_model.dart
â”‚   â”‚   â”‚   â””â”€â”€ project_model.dart
â”‚   â”‚   â””â”€â”€ services/                # Ø®Ø¯Ù…Ø§Øª API
â”‚   â”‚       â”œâ”€â”€ api_client.dart
â”‚   â”‚       â”œâ”€â”€ auth_service.dart
â”‚   â”‚       â”œâ”€â”€ qhse_service.dart
â”‚   â”‚       â””â”€â”€ projects_service.dart
â”‚   â”‚
â”‚   â”œâ”€â”€ providers/                   # Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø­Ø§Ù„Ø©
â”‚   â”‚   â””â”€â”€ auth_provider.dart
â”‚   â”‚
â”‚   â””â”€â”€ presentation/                # Ø·Ø¨Ù‚Ø© Ø§Ù„Ø¹Ø±Ø¶
â”‚       â”œâ”€â”€ screens/
â”‚       â”‚   â”œâ”€â”€ auth/
â”‚       â”‚   â”‚   â””â”€â”€ login_screen.dart
â”‚       â”‚   â””â”€â”€ dashboard/
â”‚       â”‚       â””â”€â”€ dashboard_screen.dart
â”‚       â””â”€â”€ widgets/
â”‚
â”œâ”€â”€ assets/
â”‚   â”œâ”€â”€ images/
â”‚   â”œâ”€â”€ icons/
â”‚   â””â”€â”€ translations/
â”‚       â”œâ”€â”€ ar.json                  # Ø§Ù„ØªØ±Ø¬Ù…Ø© Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©
â”‚       â””â”€â”€ en.json                  # Ø§Ù„ØªØ±Ø¬Ù…Ø© Ø§Ù„Ø¥Ù†Ø¬Ù„ÙŠØ²ÙŠØ©
â”‚
â””â”€â”€ pubspec.yaml                     # ØªÙƒÙˆÙŠÙ† Ø§Ù„Ù…Ø´Ø±ÙˆØ¹
```

---

## ğŸ“¦ Dependencies (Ø§Ù„Ù…ÙƒØªØ¨Ø§Øª Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…Ø©)

### Core
- `flutter`: SDK
- `provider`: ^6.1.1 - State management
- `easy_localization`: ^3.0.3 - Localization

### Networking
- `dio`: ^5.4.0 - HTTP client

### Local Storage
- `shared_preferences`: ^2.2.2 - Local data
- `flutter_secure_storage`: ^9.0.0 - Secure token storage

### UI Components
- `flutter_spinkit`: ^5.2.0 - Loading animations
- `shimmer`: ^3.0.0 - Skeleton loading
- `cached_network_image`: ^3.3.1 - Image caching

### Charts & Maps
- `fl_chart`: ^0.66.0 - Charts
- `flutter_map`: ^6.1.0 - Maps
- `latlong2`: ^0.9.0 - Coordinates

### Forms & Validation
- `flutter_form_builder`: ^9.2.1
- `form_builder_validators`: ^9.1.0

### Utilities
- `intl`: ^0.18.1 - Date/time formatting
- `image_picker`: ^1.0.7 - Camera/gallery
- `file_picker`: ^6.1.1 - File selection

---

## ğŸš€ Getting Started

### Prerequisites
- Flutter SDK 3.0 or higher
- Dart SDK 3.0 or higher
- Android Studio / VS Code
- Android SDK / iOS SDK

### Installation

1. **Clone the repository**
```bash
git clone <repository-url>
cd qhse_app
```

2. **Install dependencies**
```bash
flutter pub get
```

3. **Configure API URL**
Edit `lib/core/constants/app_constants.dart`:
```dart
static const String baseUrl = 'https://your-replit-url.replit.app';
```

4. **Run the app**
```bash
flutter run
```

---

## ğŸ¨ Color Palette

### Primary Colors
- Primary Green: `#16A34A` (Green-600)
- Primary Dark: `#15803D` (Green-700)
- Primary Light: `#22C55E` (Green-500)

### QHSE Domain Colors
- Safety (Ø§Ù„Ø³Ù„Ø§Ù…Ø©): `#EF4444` (Red-500)
- Health (Ø§Ù„ØµØ­Ø©): `#10B981` (Emerald-500)
- Quality (Ø§Ù„Ø¬ÙˆØ¯Ø©): `#3B82F6` (Blue-500)
- Environment (Ø§Ù„Ø¨ÙŠØ¦Ø©): `#F59E0B` (Amber-500)

### Status Colors
- Draft: `#94A3B8` (Slate-400)
- Pending: `#F59E0B` (Amber-500)
- Approved: `#22C55E` (Green-500)
- Rejected: `#EF4444` (Red-500)
- Closed: `#3B82F6` (Blue-500)

---

## ğŸŒ Localization

The app supports both Arabic and English with RTL support for Arabic.

### Adding new translations
1. Edit `assets/translations/ar.json` for Arabic
2. Edit `assets/translations/en.json` for English
3. Use `'key'.tr()` in code to access translations

### Switching languages
```dart
// Switch to Arabic
context.setLocale(const Locale('ar', 'SA'));

// Switch to English
context.setLocale(const Locale('en', 'US'));
```

---

## ğŸ‘¥ User Roles

The system supports 13 different user roles:
1. User (Ù…Ø³ØªØ®Ø¯Ù… Ø¹Ø§Ø¯ÙŠ)
2. Admin (Ù…Ø¯ÙŠØ± Ø§Ù„Ù†Ø¸Ø§Ù…)
3. CEO (Ø§Ù„Ø±Ø¦ÙŠØ³ Ø§Ù„ØªÙ†ÙÙŠØ°ÙŠ)
4. Safety Officer (Ù…Ø³Ø¤ÙˆÙ„ Ø§Ù„Ø³Ù„Ø§Ù…Ø©)
5. Quality Officer (Ù…Ø³Ø¤ÙˆÙ„ Ø§Ù„Ø¬ÙˆØ¯Ø©)
6. Health Officer (Ù…Ø³Ø¤ÙˆÙ„ Ø§Ù„ØµØ­Ø© Ø§Ù„Ù…Ù‡Ù†ÙŠØ©)
7. Environment Officer (Ù…Ø³Ø¤ÙˆÙ„ Ø§Ù„Ø¨ÙŠØ¦Ø©)
8. Safety Manager (Ù…Ø¯ÙŠØ± Ø§Ù„Ø³Ù„Ø§Ù…Ø©)
9. Quality Manager (Ù…Ø¯ÙŠØ± Ø§Ù„Ø¬ÙˆØ¯Ø©)
10. Health Manager (Ù…Ø¯ÙŠØ± Ø§Ù„ØµØ­Ø© Ø§Ù„Ù…Ù‡Ù†ÙŠØ©)
11. Environment Manager (Ù…Ø¯ÙŠØ± Ø§Ù„Ø¨ÙŠØ¦Ø©)
12. Project Manager (Ù…Ø¯ÙŠØ± Ø§Ù„Ù…Ø´Ø±ÙˆØ¹)
13. HSE Manager (Ù…Ø¯ÙŠØ± HSE)

---

## ğŸ“± Screens Overview

### 1. Login Screen (Ø´Ø§Ø´Ø© ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„)
- Email and password authentication
- Language toggle (Arabic/English)
- Auto-login support
- Create account link

### 2. Dashboard Screen (Ù„ÙˆØ­Ø© Ø§Ù„ØªØ­ÙƒÙ…)
- User welcome card
- Quick stats (4 cards)
- QHSE domain cards
- New violation FAB button

### 3. Violations List (Ù‚Ø±ÙŠØ¨Ø§Ù‹)
- Filter by domain
- Search functionality
- Pagination
- Status filters

### 4. New Violation Form (Ù‚Ø±ÙŠØ¨Ø§Ù‹)
- 8-step wizard
- Domain selection
- Map integration
- Image upload

---

## ğŸ”§ Configuration

### API Endpoints
All API endpoints are configured in `lib/core/constants/app_constants.dart`:
- Base URL
- Auth endpoints
- QHSE endpoints
- Timeouts

### Theme Customization
Colors and theme can be customized in:
- `lib/core/theme/app_colors.dart`
- `lib/core/theme/app_gradients.dart`
- `lib/core/theme/app_theme.dart`

---

## ğŸ§ª Testing

```bash
# Run all tests
flutter test

# Run with coverage
flutter test --coverage
```

---

## ğŸ“ Development Status

### Phase 1: âœ… Complete
- Project structure
- Core configuration
- Authentication system
- Basic dashboard

### Phase 2: ğŸ”œ In Progress
- Violations management
- QHSE domains
- Workflow system

### Phase 3: ğŸ“… Planned
- Reports and analytics
- User management
- Training system

---

## ğŸ¤ Contributing

This is a proprietary project. Contact the development team for contribution guidelines.

---

## ğŸ“ Support

For technical support or questions:
- Email: support@sajco.com
- Documentation: See `implementation_plan.md`

---

## ğŸ“„ License

Proprietary - All rights reserved Â© SAJCO 2025

---

**Built with â¤ï¸ using Flutter**

**Last Updated**: December 8, 2025
